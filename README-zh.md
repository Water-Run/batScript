# `batScript`

[*英文文档*](README.md)  

> 项目开发中  

Windows批处理(`.bat`)以其复古而简陋的语法而闻名. 尽管有很多脚本(如`powershell`)旨在代替Windows批处理,然而,由于旧设备的兼容性及启动速度(对于很多老旧设备而言,就算支持Powershell,启动也需要明显长的时间)等方面的考虑,我们很多时候还是需要编写`.bat`.  

**`batScript`是一个面向过程的,强类型的脚本语言,旨在为`.bat`的编写带来更现代的编程体验,设计简单,非常容易上手.** 就像`TypeScript`编译为`JavaScript`一样,`batScript`的代码文件(`.bs`)编译为`.bat`(即`batScript`只有前端).  

**`batScript`为`.bat`的编写带来了如下的功能:**  

- **类型系统**: 包括**字符串**`str`,**布尔**`bool`,**数字**`num`,**一维数组**`arr`,以及**空类型**`Nil`  
- **区分大小写的变量和常量**: 支持**大小写敏感的变量名**. 使用`set`定义变量,使用`let`定义常量  
- **正常的注释和运算符**: 支持**单行注释**`#`和**多行注释**`/**/`(可嵌套). 运算符设计符合现代编程语言习惯,如**算术运算符**`+`,`-`,`*`,`/`,**关系运算符**`==`,`~=`,`>`. 以及其它运算符,如**取类型字符串运算符**`@`,**判空运算符**`?`,**可迭代体(数组和字符串)拼接运算符**`..`,**取长运算符**`&`等  
- **正常且好用的控制流**: 包括**条件语句**`if-elif-else`和**循环语句**(`while`普通循环及可迭代体循环`iterate`,包括`continue`和`break`),**全部支持嵌套**,以及单行表示和计数变量等语法糖. 最基础的**异常处理**`err`(可定义异常类型和提示信息),及其它流程控制语句(如`endprogram`)  
- **函数与过程**: 支持有返回值的**函数**(`func`)和无返回值的**过程**(`proc`). 函数支持递归,其内变量作用域默认限制在函数内,包括用`glob`声明/调用全局作用域  
- **模块管理和标准库**: 提供**基础的模块管理**(类C的头文件包含机制)及一个内置的标准库. 通过关键字`lib`和`pkg`进行导入,`expose`控制文件对外暴露的内容  
- **原生.bat嵌入**: 可以使用`insert`嵌入原生`.bat`文件,或者通过`run`动态执行原生`.bat`语句  
- **Visual Studio Code插件**: 提供一个VS Code插件,包括**语法高亮**和**类型提示**等基础功能  

`batScript`遵循以下**设计原则**:  

- *简单,优雅,代码可读性强*  
- *无依赖: 编译后的`.bat`本身即为合法的批处理文件*  

> `batScript`开源于[GitHub](https://github.com/Water-Run/batScript/tree/main),使用MIT协议  

> `batScript`由单个`.lua`文件实现,并封装为`.exe`提供  

## 学习`batScript`

**`batScript`非常简单,拥有完善的文档支持.** 如果你有一些编程语言基础(否则,你也大概不会认识这个项目),上手将是非常快的事情.  

- [上手教程](./doc/zh/guide/01-教程目录.md)  
- [技术手册](./doc/zh/manual/手册导引.md)