# `batScript`

> 项目开发中  

Windows批处理(`.bat`)以其复古而简陋的语法而闻名.尽管有很多脚本(如`powershell`)旨在代替Windows批处理,然而,由于兼容性等方面的考虑,我们很多是否还是需要编写`.bat`.  
**`batScript`是一个由`lua`实现的强类型的,面向过程的脚本语言,旨在为`.bat`的编写带来更现代的编程体验.**就像`TypeScript`编译为`JavaScript`一样,`batScript`的代码文件(`.bs`)编译为`.bat`(即`batScript`只有前端).  

`batScript`为`.bat`的编写带来了如下的功能:  

- **类型系统**: 包括字符串`str`,布尔值`bool`,数字 `num`,及一维数组`arr`  
- **区分大小写的变量和常量**: 支持大小写敏感的变量名.使用`set`设置变量,使用`let`设置常量  
- **正常的注释和运算符等**: 支持单行注释 `#`,多行注释`/**/`,原始注释`$$$`(即在编译后的`.bat`代码中保留).运算符符合现代编程语言习惯,如`+``-``*``/``=``==``~=``>=`等等.包括支持特殊操作符,如可迭代体(如数组)取长运算符`&`,取类型字符串运算符`?`等  
- **正常控制流**: 包括条件语句`if-elif-else`和循环(`while`普通循环及可迭代体循环`iterate`,包括`continue`和`break`),均支持嵌套.最基础的异常处理 (`err`),基本的作用域控制(如`glob`),及其它流程控制语句 (如 `endprogram`)  
- **函数与过程**: 支持有返回值的函数 (`func`)和无返回值的过程 (`proc`)  
- **模块管理和标准库**: 提供基础的模块管理及一个内置的标准库.通过现代的关键字(`lib`和`pkg`)进行导入  
- **原生.bat 嵌入**: 可以使用`run`嵌入`.bat`文件,或者通过 `raw`动态执行原生`.bat`语句;使用`out`控制对外暴露的内容  
- **Visual Studio Code 插件**: 提供一个VS Code插件,包括语法高亮和类型提示等基础功能  

`batScript`遵循以下设计原则:  

- 美观,优雅,易读的语法设计  
- 向前兼容:相同大版本保证语法和库API兼容性  
- 原生兼容: 编译后的`.bat`本身即为合法的`bat`文件  

## 学习 `batScript`

`batScript`拥有完善的文档支持.如果你有一些编程语言基础(否则,你也大概不会认识这个项目),上手将是非常快的事情.  

- [上手教程](./doc/zh/guide/01-教程目录.md)  
- [技术手册](./doc/zh/manual/手册导引.md.md)  

项目开源于*[GitHub](https://github.com/Water-Run/batScript)*.  
